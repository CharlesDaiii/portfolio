import{r as a}from"./jsx-runtime-Lfnj0zCF.js";import{m as l,i as f,h as p}from"./three-BQCeSpFW.js";import{e as g,f as S,g as h}from"./heading-DBM6cEeA.js";const m=a.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function x(t){const o=g(()=>l(t)),{isStatic:s}=a.useContext(m);if(s){const[,n]=a.useState(t);a.useEffect(()=>o.on("change",n),[])}return o}function V(t,o={}){const{isStatic:s}=a.useContext(m),n=a.useRef(null),e=x(f(t)?t.get():t),u=()=>{n.current&&n.current.stop()};return a.useInsertionEffect(()=>e.attach((r,c)=>{if(s)return c(r);const i=n.current;return i&&i.time===0&&i.sample(S.delta),u(),n.current=p({keyframes:[e.get(),r],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...o,onUpdate:c}),e.get()},u),[JSON.stringify(o)]),h(()=>{if(f(t))return t.on("change",r=>e.set(parseFloat(r)))},[e]),e}function v(t,o){let s=0;return function(...n){const e=new Date;e-s>=o&&(t(...n),s=e)}}export{v as t,V as u};
